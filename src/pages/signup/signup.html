<!--
  Generated template for the Signup page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header *ngIf="!full_screen">

    <ion-navbar color="secondary">
        <ion-title>Crear cuenta</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <div id="signup_form">
        <form [formGroup]="signupForm" (ngSubmit)="register()">
            <ion-list>
                <ion-item>
                    <ion-label>
                        <ion-icon name="person"></ion-icon>
                    </ion-label>
                    <ion-input formControlName="name" placeholder="{{'SIGNUP_NAME'|translate}}" type="text"></ion-input>
                </ion-item>
                <ng-container *ngIf="error_data.name || (signupForm.controls.name.errors && signupForm.controls.name.dirty) || (signupForm.controls.surname.errors && signupForm.controls.surname.dirty)">
                    <ng-container *ngFor="let error of error_data.name">
                        <p class="alert">{{error|translate}}</p>
                    </ng-container>
                    <ng-container *ngIf="signupForm.controls.name.errors && signupForm.controls.name.dirty">
                        <p class="alert">El nombre es obligatorio</p>
                    </ng-container>
                </ng-container>

                <ion-item>
                    <ion-label>
                        <ion-icon name="person"></ion-icon>
                    </ion-label>
                    <ion-input formControlName="surname" placeholder="{{'SIGNUP_SURNAME'|translate}}" type="text"></ion-input>
                </ion-item>
                <ng-container *ngIf="error_data.surname || (signupForm.controls.name.errors && signupForm.controls.name.dirty) || (signupForm.controls.surname.errors && signupForm.controls.surname.dirty)">
                    <ng-container *ngFor="let error of error_data.surname">
                        <p class="alert">{{error|translate}}</p>
                    </ng-container>
                    <ng-container *ngIf="signupForm.controls.surname.errors && signupForm.controls.surname.dirty">
                        <p class="alert">El apellido es obligatorio</p>
                    </ng-container>
                </ng-container>


                <ion-item>
                    <ion-label>
                        <ion-icon name="person"></ion-icon>
                    </ion-label>
                    <ion-input formControlName="username" placeholder="{{'SIGNUP_USERNAME'|translate}}" type="text"></ion-input>
                </ion-item>
                <ng-container *ngIf="error_data.username || (signupForm.controls.username.errors && signupForm.controls.username.dirty)">
                    <ng-container *ngFor="let error of error_data.username">
                        <p class="alert">{{error|translate}}</p>
                    </ng-container>
                    <ng-container *ngIf="signupForm.controls.username.errors && signupForm.controls.username.dirty">
                        <p class="alert">Al menos 5 caracteres (alfanuméricos, guión bajo o medio).</p>
                    </ng-container>
                </ng-container>

                <ion-item>
                    <ion-label>
                        <ion-icon name="mail"></ion-icon>
                    </ion-label>
                    <ion-input formControlName="email" placeholder="{{'SIGNUP_EMAIL'|translate}}" type="email"></ion-input>
                </ion-item>
                <ng-container *ngIf="error_data.email || (signupForm.controls.email.errors && signupForm.controls.email.dirty)">
                    <ng-container *ngFor="let error of error_data.email">
                        <p class="alert">{{error|translate}}</p>
                    </ng-container>
                    <ng-container *ngIf="signupForm.controls.email.errors && signupForm.controls.email.dirty">
                        <p class="alert">Tenés que ingresar una dirección de correo electrónico válida.</p>
                    </ng-container>
                </ng-container>

                <ion-item>
                    <ion-label>
                        <ion-icon name="lock"></ion-icon>
                    </ion-label>
                    <ion-input formControlName="password" placeholder="{{'SIGNUP_PASSWORD'|translate}}" type="password"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label>
                        <ion-icon name="lock"></ion-icon>
                    </ion-label>
                    <ion-input formControlName="password_repeat" placeholder="{{'SIGNUP_REPEAT_PASSWORD'|translate}}" type="password"></ion-input>
                </ion-item>
                <ng-container *ngIf="error_data.password || (signupForm.controls.password.errors && signupForm.controls.password.dirty)">
                    <ng-container *ngFor="let error of error_data.password">
                        <p class="alert">{{error|translate}}</p>
                    </ng-container>
                    <ng-container *ngIf="signupForm.controls.password.errors && signupForm.controls.password.dirty">
                        <p class="alert">Las contraseñas son obligatorias, deben coincidir y tener al menos {{password_min_length}} caracteres.</p>
                    </ng-container>
                </ng-container>

            </ion-list>

            <button ion-button block [disabled]="!signupForm.valid" type="submit" class="continue-button">{{'REGISTER'|translate}}</button>

        </form>
        <button ion-button block (click)="cancel()" color="danger">{{'CANCEL'|translate}}</button>
        <button ion-button block (click)="confirmUser()">{{'HAVE_CONFIRMATION_CODE'|translate}}</button>
    </div>
</ion-content>